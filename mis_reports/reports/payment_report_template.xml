<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_payment_receipt_document">
        <template  id="report_header_custom" inherit_id="report.external_layout_header">
            <t t-if="o and 'company_id' in o">
                  <t t-set="company" t-value="o.company_id"/>
             </t>
              <t t-if="not o or not 'company_id' in o">
                  <t t-set="company" t-value="res_company"/>
              </t>
            <xpath expr="//div[@class='header']" position="replace">
                 <div class="header">
                     <div class="row">
                         <div class="col-9 text-left">
                             <br/><br/>
                             <span style="font-size: 18px;"><b>Edge Integrated Technical Services LLC</b></span><br/>
                             Office # 2908, Citadel Tower ,Business Bay<br/>
                                Dubai, Dubai 122781<br/>
                                accounts@edgedxb.com<br/>
                                TRN 100346573700003<br/>
                         </div>
                         <div class="col-3 text-right"><br/><br/>
                            <img src="/mis_reports/static/src/img/logo.png"
                                         style="margin:auto;width:100%;display:block;align:right;"/>
                         </div>
                     </div>
                 </div>
             </xpath>
        </template>
        <template id="custom_layout_footer" inherit_id="report.external_layout_footer">
                <xpath expr="//div[@class='footer']" position="replace">
                <div class="footer">
                    <div class="row">
                        <div class="col-12" style="text-align:center;">
                           Thank you for your business
                        </div>

                    </div>
                </div>
            </xpath>
        </template>
        <t t-call="web.external_layout">
            <t t-set="o" t-value="o.with_context(lang=lang)"/>
            <div class="page">
                <table width="100%">
                    <tr>
                        <td colspan="2" width="100%"  valign="middle" align="left">
                            <h2>
                                <br/><br/>
                                <span>Receipt</span>
                            </h2><br/>
                        </td>
                    </tr>

                    <tr style="color: white;background: #2E86C1;font-weight: bold;height: 5px;width: 100%;">
                           <td width="100%"  colspan="2" valign="middle" align="center" style="height: 2px;"/>
                    </tr>
                    <tr>
                        <td width="55%"  valign="top" align="left">
                            <u><b>ADDRESS</b></u><br/>
                           <t t-if="o.partner_id.name"><span t-field="o.partner_id.name"/><br/></t>
                            <t t-if="o.partner_id.street"><span t-field="o.partner_id.street"/>&amp;nbsp;</t>
                            <t t-if="o.partner_id.street2"><span t-field="o.partner_id.street2"/></t>
                            <t t-if="o.partner_id.street or o.partner_id.street2"><br/></t>
                            <t t-if="o.partner_id.zip">P.O. Box <span t-field="o.partner_id.zip"/><br/></t>
                            <t t-if="o.partner_id.state_id"><span t-field="o.partner_id.state_id.name"/>&amp;nbsp;</t>
                            <t t-if="o.partner_id.country_id.name"><span t-field="o.partner_id.country_id.name"/><br/></t>
                            <t t-if="o.partner_id.email"><i class="fa envelope-o"/> <span t-field="o.partner_id.email"/><br/></t>
                            <t t-if="o.partner_id.phone"><i class="fa fa-phone"/> <span t-field="o.partner_id.phone"/><br/></t>
                            <t t-if="o.partner_id.vat"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>: <span t-field="o.partner_id.vat"/><br/></t>
                            <br/>
                        </td>
                        <td width="45%" valign="top" align="right">
                            <table width="100%">
                                <tr style="color: white;background: #2E86C1;font-weight: bold;height: 30px;width: 100%;">
                                     <td align="left" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><strong>Reference</strong></td>
                                     <td align="left"><strong>:</strong></td>
                                     <td align="center" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span  t-field="o.name"/></td>
                                </tr>
                                <tr style="color: white;background: #2E86C1;font-weight: bold;height: 30px;width: 100%;">
                                    <td align="left" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><strong>Date</strong></td>
                                    <td align="left"><strong>:</strong></td>
                                    <td align="center" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span t-field="o.payment_date" t-options="{&quot;widget&quot;: &quot;date&quot;}"/></td>
                                </tr>
                                <tr style="color: white;background: #2E86C1;font-weight: bold;height: 30px;width: 100%;">
                                    <td align="left" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><strong>Payment Method</strong></td>
                                    <td align="left"><strong>:</strong></td>
                                    <td align="center" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span t-field="o.payment_method_id"/></td>
                                </tr>
                                 <tr style="color: white;background: #2E86C1;font-weight: bold;height: 30px;width: 100%;">
                                    <td align="left" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><strong>Payment Amount</strong></td>
                                    <td align="left"><strong>:</strong></td>
                                    <td align="center" style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span  t-esc="o.amount"  t-options="{'widget': 'monetary', 'display_currency': o.currency_id}"/></td>
                                </tr>
                            </table>

                        </td>
                    </tr>
                </table>
                <t t-if="len(o.reconciled_invoice_ids)">
                    <br/><br/>
                    <table class="table table-sm">
                        <thead>
                            <tr  style="color: white;background: #2E86C1;font-weight: bold;height: 30px;width: 100%;">
                                <th  style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span>Invoice Date</span></th>
                                <th  style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span>Invoice Number</span></th>
                                <th class="text-riIght"  style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span>Original Amount</span></th>
                                <th class="text-right"  style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span>Amount Paid</span></th>
                                <th class="text-right"  style="padding-top: 5px;padding-left: 10px;padding-top: 4px;"><span>Balance</span></th>
                            </tr>
                        </thead>
                        <tbody>
                             <t t-set="rowno" t-value="0"/>

                            <t t-foreach="o.reconciled_invoice_ids" t-as="inv">
                                <tr>
                                <t t-set="rowno" t-value="rowno+1"/>
                                <td><span t-field="inv.invoice_date"/></td>
                                <td><span t-field="inv.name"/></td>
                                <td class="text-right"><span t-field="inv.amount_total"/></td>
                                <td class="text-right"><span t-esc="o._get_invoice_payment_amount(inv)" t-options="{'widget': 'monetary', 'display_currency': inv.currency_id}"/></td>
                                <td class="text-right"><span t-field="inv.amount_residual"/></td>
                                </tr>

                            </t>

                        </tbody>
                    </table>
                    <!--p style="page-break-after:always;"/-->
                </t>
            </div>
            <div class="row">
                <t t-if="o.communication">
                    <br/><br/><br/>
                    <p>Memo : <span t-field="o.communication"/></p>
                </t>
            </div>

			<div class="row">
              <div class="col-3" style="right;">
                  <p class="text-center" style="padding-left:5mm;">
                      <br/><br/><br/><br/>

                  </p>
                <p class="text-center" style="padding-left:5mm; border-top:1px solid black; border-length: 7px;">
                    Prepared by</p>
              </div>

              <div class="col-2" style="center">

              </div>
              <div class="col-2" style="right;">
                  <p class="text-center" style="padding-left:5mm;">
                      <br/><br/><br/><br/><br/>

                  </p>

              </div>

              <div class="col-2" style="center">

              </div>
              <div class="col-3" style="left">
                  <p class="text-center" style="padding-left:5mm;">
                      <br/><br/><br/><br/><br/>
                  </p>
                <p class="text-center" style="padding-left:5mm; border-top:1px solid black; border-length: 7px;">
                    Approved By
                </p>
              </div>
			</div>
        </t>
    </template>

    <template id="account.report_payment_receipt">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="o">
                <t t-set="lang" t-value="o.partner_id.lang"/>
                <t t-call="mis_reports.report_payment_receipt_document" t-lang="lang"/>
            </t>
        </t>
    </template>


</odoo>
